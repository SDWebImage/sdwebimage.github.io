{"primaryContentSections":[{"kind":"declarations","declarations":[{"languages":["swift"],"tokens":[{"kind":"keyword","text":"static"},{"text":" ","kind":"text"},{"text":"let","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"decodeScaleDownLimitBytes"},{"text":": ","kind":"text"},{"identifier":"doc:\/\/com.dailymotion.SDWebImage\/documentation\/SDWebImage\/SDImageCoderOption","text":"SDImageCoderOption","preciseIdentifier":"c:SDImageCoder.h@T@SDImageCoderOption","kind":"typeIdentifier"}],"platforms":["iOS"]}]},{"kind":"content","content":[{"type":"heading","level":2,"text":"Discussion","anchor":"discussion"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Get the total frame count (static image means 1)"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Calculate the ","type":"text"},{"code":"framePixelSize","type":"codeVoice"},{"text":" width\/height to ","type":"text"},{"code":"sqrt(limitBytes \/ frameCount \/ bytesPerPixel)","type":"codeVoice"},{"text":", keeping aspect ratio (at least 1x1)","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"If the ","type":"text"},{"type":"codeVoice","code":"framePixelSize < originalImagePixelSize"},{"type":"text","text":", then do thumbnail decoding (see "},{"type":"codeVoice","code":"SDImageCoderDecodeThumbnailPixelSize"},{"type":"text","text":") use the "},{"code":"framePixelSize","type":"codeVoice"},{"type":"text","text":" and "},{"type":"codeVoice","code":"preseveAspectRatio = YES"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Else, use the full pixel decoding (small than limit bytes)","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Whatever result, this does not effect the animated\/static behavior of image. So even if you set ","type":"text"},{"type":"codeVoice","code":"limitBytes = 1 && frameCount = 100"},{"text":", we will stll create animated image with each frame ","type":"text"},{"code":"1x1","type":"codeVoice"},{"type":"text","text":" pixel size."}]}]}],"type":"orderedList"},{"style":"note","type":"aside","name":"Note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"You can use the logic from "},{"type":"codeVoice","code":"+[SDImageCoder scaledSizeWithImageSize:limitBytes:bytesPerPixel:frameCount:]"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"This option has higher priority than "},{"type":"codeVoice","code":".decodeThumbnailPixelSize"}]}],"style":"note","name":"Note","type":"aside"}]}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/com.dailymotion.SDWebImage\/documentation\/SDWebImage\/SDImageCoderOption\/decodeScaleDownLimitBytes"},"sections":[],"hierarchy":{"paths":[["doc:\/\/com.dailymotion.SDWebImage\/documentation\/SDWebImage"],["doc:\/\/com.dailymotion.SDWebImage\/documentation\/SDWebImage","doc:\/\/com.dailymotion.SDWebImage\/documentation\/SDWebImage\/SDImageCoderOption"]]},"schemaVersion":{"major":0,"patch":0,"minor":3},"abstract":[{"text":"A NSUInteger value to provide the limit bytes during decoding. This can help to avoid OOM on large frame count animated image or large pixel static image when you don’t know how much RAM it occupied before decoding","type":"text"},{"type":"text","text":" "},{"text":"The decoder will do these logic based on limit bytes:","type":"text"}],"kind":"symbol","variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/sdwebimage\/sdimagecoderoption\/decodescaledownlimitbytes"]},{"traits":[{"interfaceLanguage":"occ"}],"paths":["\/documentation\/sdwebimage\/sdimagecoderoption\/decodescaledownlimitbytes"]}],"metadata":{"title":"decodeScaleDownLimitBytes","modules":[{"name":"SDWebImage"}],"extendedModule":"SDWebImage","fragments":[{"text":"static","kind":"keyword"},{"kind":"text","text":" "},{"kind":"keyword","text":"let"},{"text":" ","kind":"text"},{"text":"decodeScaleDownLimitBytes","kind":"identifier"},{"kind":"text","text":": "},{"preciseIdentifier":"c:SDImageCoder.h@T@SDImageCoderOption","text":"SDImageCoderOption","kind":"typeIdentifier"}],"externalID":"c:@SDImageCoderDecodeScaleDownLimitBytes","roleHeading":"Type Property","role":"symbol","symbolKind":"property","navigatorTitle":[{"kind":"identifier","text":"SDImageCoderDecodeScaleDownLimitBytes"}]},"references":{"doc://com.dailymotion.SDWebImage/documentation/SDWebImage/SDImageCoderOption/decodeScaleDownLimitBytes":{"navigatorTitle":[{"text":"SDImageCoderDecodeScaleDownLimitBytes","kind":"identifier"}],"fragments":[{"kind":"keyword","text":"static"},{"text":" ","kind":"text"},{"text":"let","kind":"keyword"},{"text":" ","kind":"text"},{"text":"decodeScaleDownLimitBytes","kind":"identifier"},{"kind":"text","text":": "},{"text":"SDImageCoderOption","kind":"typeIdentifier","preciseIdentifier":"c:SDImageCoder.h@T@SDImageCoderOption"}],"type":"topic","kind":"symbol","title":"decodeScaleDownLimitBytes","abstract":[{"type":"text","text":"A NSUInteger value to provide the limit bytes during decoding. This can help to avoid OOM on large frame count animated image or large pixel static image when you don’t know how much RAM it occupied before decoding"},{"text":" ","type":"text"},{"text":"The decoder will do these logic based on limit bytes:","type":"text"}],"role":"symbol","identifier":"doc:\/\/com.dailymotion.SDWebImage\/documentation\/SDWebImage\/SDImageCoderOption\/decodeScaleDownLimitBytes","url":"\/documentation\/sdwebimage\/sdimagecoderoption\/decodescaledownlimitbytes"},"doc://com.dailymotion.SDWebImage/documentation/SDWebImage":{"title":"SDWebImage","kind":"symbol","identifier":"doc:\/\/com.dailymotion.SDWebImage\/documentation\/SDWebImage","type":"topic","abstract":[],"url":"\/documentation\/sdwebimage","role":"collection"},"doc://com.dailymotion.SDWebImage/documentation/SDWebImage/SDImageCoderOption":{"title":"SDImageCoderOption","kind":"symbol","url":"\/documentation\/sdwebimage\/sdimagecoderoption","fragments":[{"text":"struct","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"SDImageCoderOption"}],"type":"topic","role":"symbol","navigatorTitle":[{"text":"SDImageCoderOption","kind":"identifier"}],"abstract":[],"identifier":"doc:\/\/com.dailymotion.SDWebImage\/documentation\/SDWebImage\/SDImageCoderOption"}},"variantOverrides":[{"patch":[{"path":"\/identifier\/interfaceLanguage","value":"occ","op":"replace"},{"value":"Global Variable","op":"replace","path":"\/metadata\/roleHeading"},{"op":"replace","path":"\/metadata\/title","value":"SDImageCoderDecodeScaleDownLimitBytes"},{"op":"replace","path":"\/metadata\/symbolKind","value":"var"},{"value":[{"text":"SDImageCoderDecodeScaleDownLimitBytes","kind":"identifier"}],"op":"replace","path":"\/metadata\/fragments"},{"value":null,"op":"add","path":"\/topicSections"},{"path":"\/relationshipsSections","op":"add","value":null},{"op":"add","value":null,"path":"\/seeAlsoSections"},{"path":"\/primaryContentSections\/0","value":{"kind":"declarations","declarations":[{"languages":["occ"],"platforms":["iOS"],"tokens":[{"text":"extern","kind":"keyword"},{"kind":"text","text":" "},{"text":"NSString","kind":"typeIdentifier","preciseIdentifier":"c:objc(cs)NSString"},{"text":" * ","kind":"text"},{"kind":"keyword","text":"const"},{"kind":"text","text":" "},{"kind":"identifier","text":"SDImageCoderDecodeScaleDownLimitBytes"},{"text":";","kind":"text"}]}]},"op":"replace"},{"value":"SDImageCoderDecodeScaleDownLimitBytes","path":"\/references\/doc:~1~1com.dailymotion.SDWebImage~1documentation~1SDWebImage~1SDImageCoderOption~1decodeScaleDownLimitBytes\/title","op":"replace"},{"value":[{"kind":"identifier","text":"SDImageCoderDecodeScaleDownLimitBytes"}],"op":"replace","path":"\/references\/doc:~1~1com.dailymotion.SDWebImage~1documentation~1SDWebImage~1SDImageCoderOption~1decodeScaleDownLimitBytes\/fragments"},{"path":"\/references\/doc:~1~1com.dailymotion.SDWebImage~1documentation~1SDWebImage~1SDImageCoderOption\/title","op":"replace","value":"SDImageCoderOption"},{"value":[{"text":"SDImageCoderOption","kind":"identifier"}],"path":"\/references\/doc:~1~1com.dailymotion.SDWebImage~1documentation~1SDWebImage~1SDImageCoderOption\/fragments","op":"replace"},{"value":[{"text":"SDImageCoderOption","kind":"identifier"}],"op":"replace","path":"\/references\/doc:~1~1com.dailymotion.SDWebImage~1documentation~1SDWebImage~1SDImageCoderOption\/navigatorTitle"}],"traits":[{"interfaceLanguage":"occ"}]}]}
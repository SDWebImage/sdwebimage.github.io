{"abstract":[{"type":"text","text":"The cache serializer is used to convert the decoded image, the source downloaded data, to the actual data used for storing to the disk cache. If you return nil, means to generate the data from the image instance, see "},{"code":"SDImageCache","type":"codeVoice"},{"text":".","type":"text"},{"text":" ","type":"text"},{"text":"For example, if you are using WebP images and facing the slow decoding time issue when later retrieving from disk cache again. You can try to encode the decoded image to JPEG\/PNG format to disk cache instead of source downloaded data.","type":"text"}],"metadata":{"role":"symbol","symbolKind":"property","modules":[{"name":"SDWebImage"}],"roleHeading":"Instance Property","externalID":"c:objc(cs)SDWebImageManager(py)cacheSerializer","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"cacheSerializer"},{"kind":"text","text":": (any "},{"text":"SDWebImageCacheSerializerProtocol","kind":"typeIdentifier","preciseIdentifier":"c:objc(pl)SDWebImageCacheSerializer"},{"kind":"text","text":")?"}],"title":"cacheSerializer","navigatorTitle":[{"text":"cacheSerializer","kind":"identifier"}]},"variants":[{"paths":["\/documentation\/sdwebimage\/sdwebimagemanager\/cacheserializer"],"traits":[{"interfaceLanguage":"swift"}]},{"paths":["\/documentation\/sdwebimage\/sdwebimagemanager\/cacheserializer"],"traits":[{"interfaceLanguage":"occ"}]}],"kind":"symbol","sections":[],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/com.dailymotion.SDWebImage\/documentation\/SDWebImage\/SDWebImageManager\/cacheSerializer"},"hierarchy":{"paths":[["doc:\/\/com.dailymotion.SDWebImage\/documentation\/SDWebImage","doc:\/\/com.dailymotion.SDWebImage\/documentation\/SDWebImage\/SDWebImageManager"]]},"schemaVersion":{"minor":3,"major":0,"patch":0},"primaryContentSections":[{"declarations":[{"languages":["swift"],"tokens":[{"kind":"keyword","text":"var"},{"text":" ","kind":"text"},{"text":"cacheSerializer","kind":"identifier"},{"text":": (any ","kind":"text"},{"preciseIdentifier":"c:objc(pl)SDWebImageCacheSerializer","identifier":"doc:\/\/com.dailymotion.SDWebImage\/documentation\/SDWebImage\/SDWebImageCacheSerializerProtocol","text":"SDWebImageCacheSerializerProtocol","kind":"typeIdentifier"},{"text":")? { ","kind":"text"},{"kind":"keyword","text":"get"},{"text":" ","kind":"text"},{"kind":"keyword","text":"set"},{"kind":"text","text":" }"}],"platforms":["iOS"]}],"kind":"declarations"},{"content":[{"type":"heading","anchor":"discussion","text":"Discussion","level":2},{"style":"note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"type":"codeVoice","code":"image"},{"type":"text","text":" arg is nonnull, but when you also provide an image transformer and the image is transformed, the "},{"type":"codeVoice","code":"data"},{"text":" arg may be nil, take attention to this case.","type":"text"}]}],"type":"aside","name":"Note"},{"type":"aside","name":"Note","style":"note","content":[{"inlineContent":[{"text":"This method is called from a global queue in order to not to block the main thread.","type":"text"}],"type":"paragraph"}]},{"inlineContent":[{"type":"text","text":"SDWebImageManager.sharedManager.cacheSerializer = [SDWebImageCacheSerializer cacheSerializerWithBlock:^NSData * _Nullable(UIImage * _Nonnull image, NSData * _Nullable data, NSURL * _Nullable imageURL) {"},{"text":" ","type":"text"},{"text":"SDImageFormat format = [NSData sd_imageFormatForImageData:data];","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"switch (format) {"},{"text":" ","type":"text"},{"type":"text","text":"case SDImageFormatWebP:"},{"type":"text","text":" "},{"text":"return image.images ? data : nil;","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"default:"},{"type":"text","text":" "},{"text":"return data;","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"}"},{"type":"text","text":" "},{"text":"}];","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The default value is nil. Means we just store the source downloaded data to disk cache."}]}],"kind":"content"}],"references":{"doc://com.dailymotion.SDWebImage/documentation/SDWebImage/SDWebImageManager":{"role":"symbol","title":"SDWebImageManager","url":"\/documentation\/sdwebimage\/sdwebimagemanager","kind":"symbol","identifier":"doc:\/\/com.dailymotion.SDWebImage\/documentation\/SDWebImage\/SDWebImageManager","navigatorTitle":[{"text":"SDWebImageManager","kind":"identifier"}],"type":"topic","abstract":[{"text":"The SDWebImageManager is the class behind the UIImageView+WebCache category and likes.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"It ties the asynchronous downloader (SDWebImageDownloader) with the image cache store (SDImageCache)."},{"text":" ","type":"text"},{"text":"You can use this class directly to benefit from web image downloading with caching in another context than","type":"text"},{"type":"text","text":" "},{"text":"a UIView.","type":"text"}],"fragments":[{"kind":"keyword","text":"class"},{"text":" ","kind":"text"},{"text":"SDWebImageManager","kind":"identifier"}]},"doc://com.dailymotion.SDWebImage/documentation/SDWebImage/SDWebImageManager/cacheSerializer":{"navigatorTitle":[{"kind":"identifier","text":"cacheSerializer"}],"role":"symbol","url":"\/documentation\/sdwebimage\/sdwebimagemanager\/cacheserializer","kind":"symbol","fragments":[{"kind":"keyword","text":"var"},{"text":" ","kind":"text"},{"text":"cacheSerializer","kind":"identifier"},{"text":": (any ","kind":"text"},{"text":"SDWebImageCacheSerializerProtocol","preciseIdentifier":"c:objc(pl)SDWebImageCacheSerializer","kind":"typeIdentifier"},{"kind":"text","text":")?"}],"title":"cacheSerializer","identifier":"doc:\/\/com.dailymotion.SDWebImage\/documentation\/SDWebImage\/SDWebImageManager\/cacheSerializer","type":"topic","abstract":[{"type":"text","text":"The cache serializer is used to convert the decoded image, the source downloaded data, to the actual data used for storing to the disk cache. If you return nil, means to generate the data from the image instance, see "},{"type":"codeVoice","code":"SDImageCache"},{"type":"text","text":"."},{"text":" ","type":"text"},{"text":"For example, if you are using WebP images and facing the slow decoding time issue when later retrieving from disk cache again. You can try to encode the decoded image to JPEG\/PNG format to disk cache instead of source downloaded data.","type":"text"}]},"doc://com.dailymotion.SDWebImage/documentation/SDWebImage":{"title":"SDWebImage","kind":"symbol","identifier":"doc:\/\/com.dailymotion.SDWebImage\/documentation\/SDWebImage","type":"topic","abstract":[],"url":"\/documentation\/sdwebimage","role":"collection"},"doc://com.dailymotion.SDWebImage/documentation/SDWebImage/SDWebImageCacheSerializerProtocol":{"type":"topic","identifier":"doc:\/\/com.dailymotion.SDWebImage\/documentation\/SDWebImage\/SDWebImageCacheSerializerProtocol","navigatorTitle":[{"text":"SDWebImageCacheSerializerProtocol","kind":"identifier"}],"title":"SDWebImageCacheSerializerProtocol","role":"symbol","kind":"symbol","url":"\/documentation\/sdwebimage\/sdwebimagecacheserializerprotocol","abstract":[{"type":"text","text":"This is the protocol for cache serializer."},{"text":" ","type":"text"},{"text":"We can use a block to specify the cache serializer. But Using protocol can make this extensible, and allow Swift user to use it easily instead of using ","type":"text"},{"code":"@convention(block)","type":"codeVoice"},{"type":"text","text":" to store a block into context options."}],"fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"SDWebImageCacheSerializerProtocol"}]}},"variantOverrides":[{"traits":[{"interfaceLanguage":"occ"}],"patch":[{"path":"\/identifier\/interfaceLanguage","value":"occ","op":"replace"},{"value":"Instance Property","op":"replace","path":"\/metadata\/roleHeading"},{"value":"cacheSerializer","op":"replace","path":"\/metadata\/title"},{"path":"\/metadata\/symbolKind","op":"replace","value":"property"},{"path":"\/metadata\/fragments","op":"replace","value":[{"text":"cacheSerializer","kind":"identifier"}]},{"op":"add","value":null,"path":"\/topicSections"},{"op":"add","path":"\/relationshipsSections","value":null},{"value":null,"op":"add","path":"\/seeAlsoSections"},{"value":{"kind":"declarations","declarations":[{"platforms":["iOS"],"languages":["occ"],"tokens":[{"text":"@property","kind":"keyword"},{"kind":"text","text":" ("},{"text":"nonatomic","kind":"keyword"},{"text":", ","kind":"text"},{"text":"strong","kind":"keyword"},{"kind":"text","text":") "},{"kind":"typeIdentifier","text":"id<SDWebImageCacheSerializer>","preciseIdentifier":"c:Qoobjc(pl)SDWebImageCacheSerializer"},{"text":" ","kind":"text"},{"text":"cacheSerializer","kind":"identifier"},{"kind":"text","text":";"}]}]},"op":"replace","path":"\/primaryContentSections\/0"},{"value":"SDWebImageManager","path":"\/references\/doc:~1~1com.dailymotion.SDWebImage~1documentation~1SDWebImage~1SDWebImageManager\/title","op":"replace"},{"op":"replace","path":"\/references\/doc:~1~1com.dailymotion.SDWebImage~1documentation~1SDWebImage~1SDWebImageManager\/fragments","value":[{"text":"SDWebImageManager","kind":"identifier"}]},{"path":"\/references\/doc:~1~1com.dailymotion.SDWebImage~1documentation~1SDWebImage~1SDWebImageManager\/navigatorTitle","value":[{"text":"SDWebImageManager","kind":"identifier"}],"op":"replace"},{"op":"replace","path":"\/references\/doc:~1~1com.dailymotion.SDWebImage~1documentation~1SDWebImage~1SDWebImageManager~1cacheSerializer\/title","value":"cacheSerializer"},{"path":"\/references\/doc:~1~1com.dailymotion.SDWebImage~1documentation~1SDWebImage~1SDWebImageManager~1cacheSerializer\/fragments","value":[{"kind":"identifier","text":"cacheSerializer"}],"op":"replace"},{"path":"\/references\/doc:~1~1com.dailymotion.SDWebImage~1documentation~1SDWebImage~1SDWebImageCacheSerializerProtocol\/title","op":"replace","value":"SDWebImageCacheSerializer"},{"op":"replace","path":"\/references\/doc:~1~1com.dailymotion.SDWebImage~1documentation~1SDWebImage~1SDWebImageCacheSerializerProtocol\/fragments","value":[{"kind":"identifier","text":"SDWebImageCacheSerializer"}]},{"value":[{"kind":"identifier","text":"SDWebImageCacheSerializer"}],"path":"\/references\/doc:~1~1com.dailymotion.SDWebImage~1documentation~1SDWebImage~1SDWebImageCacheSerializerProtocol\/navigatorTitle","op":"replace"}]}]}